@baseUrl = http://localhost:8081/api/v1

# トークン生成: make token
@token = YOUR_TOKEN_HERE

### チャンネルのエピソード一覧取得
GET {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes
Authorization: Bearer {{token}}

### チャンネルのエピソード一覧取得（ページネーション）
GET {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes?limit=10&offset=0
Authorization: Bearer {{token}}

### チャンネルのエピソード一覧取得（更新日時の降順でソート）
GET {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes?sort=updatedAt&order=desc
Authorization: Bearer {{token}}

### 自分のチャンネルのエピソード一覧取得
GET {{baseUrl}}/me/channels/YOUR_CHANNEL_ID_HERE/episodes
Authorization: Bearer {{token}}

### 自分のチャンネルのエピソード一覧取得（公開済みのみ）
GET {{baseUrl}}/me/channels/YOUR_CHANNEL_ID_HERE/episodes?status=published
Authorization: Bearer {{token}}

### 自分のチャンネルのエピソード一覧取得（下書きのみ）
GET {{baseUrl}}/me/channels/YOUR_CHANNEL_ID_HERE/episodes?status=draft
Authorization: Bearer {{token}}

### 自分のチャンネルのエピソード一覧取得（ページネーション）
GET {{baseUrl}}/me/channels/YOUR_CHANNEL_ID_HERE/episodes?limit=10&offset=0
Authorization: Bearer {{token}}

### 自分のチャンネルのエピソード一覧取得（更新日時の降順でソート）
GET {{baseUrl}}/me/channels/YOUR_CHANNEL_ID_HERE/episodes?sort=updatedAt&order=desc
Authorization: Bearer {{token}}

### 自分のチャンネルのエピソード取得
GET {{baseUrl}}/me/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE
Authorization: Bearer {{token}}

### エピソード作成
POST {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "テストエピソード",
  "description": "テスト用のエピソードです",
  "userPrompt": "明るく楽しい雰囲気で話してください"
}

### エピソード作成（アートワーク付き）
POST {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "テストエピソード",
  "description": "テスト用のエピソードです",
  "userPrompt": "明るく楽しい雰囲気で話してください",
  "artworkImageId": "YOUR_IMAGE_ID_HERE"
}

### エピソード作成（description なし）
POST {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "テストエピソード",
  "userPrompt": "明るく楽しい雰囲気で話してください"
}

### エピソード更新（タイトルのみ）
PATCH {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "更新されたタイトル"
}

### エピソード更新（複数フィールド）
PATCH {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "更新されたタイトル",
  "description": "更新された説明文",
  "userPrompt": "更新された台本プロンプト"
}

### エピソード更新（アートワーク設定）
PATCH {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "artworkImageId": "YOUR_IMAGE_ID_HERE"
}

### エピソード更新（アートワーク削除）
PATCH {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "artworkImageId": ""
}

### エピソード削除
DELETE {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE
Authorization: Bearer {{token}}

### エピソード公開（即時公開）
POST {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE/publish
Content-Type: application/json
Authorization: Bearer {{token}}

{}

### エピソード公開（日時指定）
POST {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE/publish
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "publishedAt": "2025-01-01T00:00:00Z"
}

### エピソード公開（予約公開：将来日時）
POST {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE/publish
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "publishedAt": "2025-12-31T23:59:59Z"
}

### エピソード非公開
POST {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE/unpublish
Authorization: Bearer {{token}}

### エピソード BGM 設定（ユーザー BGM）
PUT {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE/bgm
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "bgmId": "YOUR_BGM_ID_HERE"
}

### エピソード BGM 設定（システム BGM）
PUT {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE/bgm
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "systemBgmId": "YOUR_SYSTEM_BGM_ID_HERE"
}

### エピソード BGM 削除
DELETE {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE/bgm
Authorization: Bearer {{token}}

### エピソード音声削除
DELETE {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE/audio
Authorization: Bearer {{token}}

### 音声生成（voice: TTS のみ）
POST {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE/audio/generate-async
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "type": "voice"
}

### 音声生成（full: TTS + BGM、ユーザー BGM）
POST {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE/audio/generate-async
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "type": "full",
  "bgmId": "YOUR_BGM_ID_HERE",
  "bgmVolumeDb": -15,
  "fadeOutMs": 3000,
  "paddingStartMs": 500,
  "paddingEndMs": 1000
}

### 音声生成（full: TTS + BGM、システム BGM）
POST {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE/audio/generate-async
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "type": "full",
  "systemBgmId": "YOUR_SYSTEM_BGM_ID_HERE"
}

### 音声生成（remix: BGM 差し替え）
POST {{baseUrl}}/channels/YOUR_CHANNEL_ID_HERE/episodes/YOUR_EPISODE_ID_HERE/audio/generate-async
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "type": "remix",
  "bgmId": "YOUR_BGM_ID_HERE",
  "bgmVolumeDb": -20,
  "fadeOutMs": 3000,
  "paddingStartMs": 1000,
  "paddingEndMs": 3000
}
